"use strict";function productVariation(o,e){var r=jQuery(o),t=e||"form.variations_form",a=r.find(".image-item:eq(0)"),i=a.find("img"),n=i.prop("src"),c=i.prop("srcset")||"",s=a.find("a"),d=s.prop("href"),u=r.find(".thumbnail-item:eq(0)"),p=u.find("img").prop("src");if(jQuery(t).length){var l=document.querySelector(".elementor-widget-woostify-product-meta .sku"),_=l?l.innerHTML:"",f=document.querySelector(".wpm_gtin_code_wrapper .wpm_pgw_code");f&&(f.innerHTML=_),jQuery(document.body).on("found_variation",t,(function(e,r){var t=r.image.full_src,n=(r.image.src,r.image.thumb_src),c=r.is_in_stock;l&&(l.innerHTML=r.sku),f&&(f.innerHTML=r.sku),i.removeAttr("srcset"),u.find("img").prop("src",n),s.prop("href",t),a.addClass("image-loading"),i.prop("src",t).one("load",(function(){a.removeClass("image-loading")})),"function"==typeof easyZoomHandle&&easyZoomHandle();var d=document.querySelector(o),p=!!d&&d.querySelector(".product-images"),_=!!p&&p.querySelector(".woostify-out-of-stock-label"),m=!!p&&p.querySelector(".woostify-tag-on-sale");if(c)r.max_qty&&"function"==typeof woostifyStockQuantityProgressBar&&setTimeout((function(){woostifyStockQuantityProgressBar()}),200),_&&_.remove(),m&&woostify_woocommerce_variable_product_data.sale_tag_percent&&r.display_price!=r.display_regular_price&&(m.innerHTML="-"+Math.round((r.display_regular_price-r.display_price)/r.display_regular_price*100)+"%");else if(woostify_woocommerce_variable_product_data){var y='<span class="woostify-out-of-stock-label position-'+woostify_woocommerce_variable_product_data.out_of_stock_display+" "+woostify_woocommerce_variable_product_data.out_of_stock_square+'">'+woostify_woocommerce_variable_product_data.out_of_stock_text+"</span>";_||p.insertAdjacentHTML("beforeend",y)}})),jQuery(".reset_variations").on("click",(function(o){o.preventDefault(),_&&(l.innerHTML=_),f&&(f.innerHTML=_),i.prop("src",n),i.attr("srcset",c),u.find("img").prop("src",p),s.prop("href",d),"function"==typeof easyZoomHandle&&easyZoomHandle()}))}}document.addEventListener("DOMContentLoaded",(function(){productVariation(".product-gallery"),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){productVariation(".product-gallery")}))}))}));